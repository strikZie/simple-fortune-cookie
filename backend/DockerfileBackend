FROM golang:1.22 AS builder
WORKDIR /app
RUN apt-get update
COPY . .
RUN go build -o .

FROM debian:bookworm-slim

WORKDIR /app
COPY --from=builder . .

EXPOSE 3000

CMD ["./backend.exe"]